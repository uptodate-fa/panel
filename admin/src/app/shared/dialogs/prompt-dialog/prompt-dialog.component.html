<h4 matDialogTitle>{{ title }}</h4>
<mat-dialog-content fxLayout="column">
  @if (description) {
    <p>{{ description }}</p>
  }

  @for (field of fields | keyvalue; track $index) {
    <mat-form-field>
      @if (field.value.label) {
        <mat-label>{{ field.value.label }}</mat-label>
      }
      @switch (field.value.type) {
        @case ('date') {
          <ng-container>
            <input
              (click)="picker.open()"
              matInput
              [matDatepicker]="picker"
              [formControl]="field.value.control"
              placeholder="YYYY-MM-DD"
            />
            <mat-datepicker #picker></mat-datepicker>
          </ng-container>
        }
        @default {
          <input
            matInput
            [formControl]="field.value.control"
            [type]="field.value.type || 'text'"
          />
        }
      }
      @if (field.value.hint) {
        <mat-hint>{{ field.value.hint }}</mat-hint>
      }
    </mat-form-field>
  }
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-button mat-dialog-close>انصراف</button>
  <button mat-flat-button (click)="submit()">تایید</button>
</mat-dialog-actions>
